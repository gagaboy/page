/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

define("src/Manager",[],function(){var e="manager",t="Manager",n=new Class({Implements:[Events,Options],options:{$id:"",xtype:e,fullName:t},initialize:function(e){this.setOptions(e);if(!this.options||this.options.$id=="")this.options.$id=String.uniqueID();this.components={}},getId:function(){return this.options.$id},add:function(e,t){this.components[e]=t}});return n.xtype=e,n}),define("src/Validation",[],function(){var Validation=new Class({options:{defaultRules:{},customRules:{},onlyError:!1,errInterval:";"},allRules:{},initialize:function(e){var t=this;this.vmodel=avalon.define(this.options),this.vmodel.$watch("$all",function(e,n){t.setAttr(e,n)});var n={regex:{validateFunc:this._valRegex,errMsg:"* 格式必须满足正则表达式"},required:{validateFunc:this._valRequired,errMsg:"* 非空选项."},length:{validateFunc:this._valLength,errMsg:"* 长度必须为 "},limit:{validateFunc:this._valLimit,errMsg1:"* 大小必须在 ",errMsg2:" 至 ",errMsg3:" 之间."},funCall:{validateFunc:this._valFunCall,errMsg:"* 校验失败 "},ajax:{validateFunc:this._valAjax,errMsg:"* 服务端校验失败 "},equalValue:{validateFunc:this._valEqualValue,errMsg:"* 输入错误,请重新输入."},notEqualsValue:{validateFunc:this._valNotEqualValue,errMsg:"* 输入内容被排除,请重新输入."},telephone:{regex:"/^(0[0-9]{2,3}-)?([2-9][0-9]{6,7})+(-[0-9]{1,4})?$/",errMsg:"* 请输入有效的电话号码,如:010-29292929."},mobilePhone:{regex:"/(^0?[1][3458][0-9]{9}$)/",errMsg:"* 请输入有效的手机号码."},phone:{regex:"/^((\\(\\d{2,3}\\))|(\\d{3}\\-))?(\\(0\\d{2,3}\\)|0\\d{2,3}-)?[1-9]\\d{6,7}(\\-\\d{1,4})?$/",errMsg:"* 请输入有效的联系号码."},email:{regex:"/^[a-zA-Z0-9_.-]+@([a-zA-Z0-9-]+.)+[a-zA-Z0-9]{2,4}$/",errMsg:"* 请输入有效的邮件地址."},date:{regex:"/^(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)$/",errMsg:"* 请输入有效的日期,如:2008-08-08."},ip:{regex:"/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",errMsg:"* 请输入有效的IP."},accept:{regex:"none",errMsg:"* 请输入有效的文件格式."},chinese:{regex:"/^[一-龥]+$/",errMsg:"* 请输入中文."},equalsField:{validateFunc:this._valEqualField,errMsg:"* 两次输入不一致,请重新输入."}};this.setAttr("defaultRules",n),jQuery.extend(this.allRules,this.getAttr("defaultRules"))},getId:function(){return String.uniqueID()},getAttr:function(e){return this.vmodel[e]},setAttr:function(e,t){var n=this.vmodel[e];return this.vmodel[e]=t,this},checkRequired:function(e){return e?{result:!0}:{result:!1,errorMsg:"不可为空"}},checkLength:function(e,t,n){var r=e?String(e).length:0;return n&&r<n||t&&r>t?{result:!1,errorMsg:"长度不符合要求"}:{result:!0}},checkRegex:function(value,regexStr){var regPattern=eval(regexStr);return regPattern.test(value)?{result:!0}:{result:!1,errorMsg:"格式必须满足正则表达式："+regexStr}},checkFunCall:function(e,t,n){if(typeof t=="function"){var r=t(e,n);return r}return{result:!0}},checkAjax:function(e,t,n,r){},validateValue:function(e,t){if(t&&typeof t==" object "){var n="";for(var r in t){if(t[r]&&this.allRules[t[r]]){var i=this.allRules[t[r]],s=null;i.validateFunc?s=i.validateFunc(e,t[r]):i.regex&&(s=this.checkRegex(e,i.regex))}s&&!s.result&&(n+=s.errorMsg+this.getAttr("errInterval"))}if(n)return{result:!1,errorMsg:n}}return{result:!0}},validateObject:function(e,t){t&&t.keyset()&&t[key]=="@obj"},addCustomRule:function(e,t){return this.getAttr("defaultRules")&&this.getAttr("defaultRules")[e]?{result:!1,errorMsg:"系统预置规则中已有同名规则"+e}:(this.getAttr("customRules")[e]=t,this.allRules[e]=t,{result:!0})},_valRegex:function(e,t){return e&&t&&t.regexStr?this.checkRegex(e,t.regexStr):{result:!0}},_valRequired:function(e,t){return this.checkRequired(e)},_valLength:function(e,t){return e&&(t.minLen||t.maxLen)?this.checkLength(e,t.minLen,t.maxLen):{result:!0}},_valLimit:function(e,t){return e&&t&&t.regexStr?this.checkRegex(e,t.regexStr):{result:!0}},_valFunCall:function(e,t){return e&&t&&t.regexStr?this.checkRegex(e,t.regexStr):{result:!0}},_valAjax:function(e,t){return e&&t&&t.regexStr?this.checkRegex(e,t.regexStr):{result:!0}},_valEqualValue:function(e,t){return e&&t&&t.regexStr?this.checkRegex(e,t.regexStr):{result:!0}},_valNotEqualValue:function(e,t){return e&&t&&t.regexStr?this.checkRegex(e,t.regexStr):{result:!0}},_valEqualField:function(e,t){return e&&t&&t.regexStr?this.checkRegex(e,t.regexStr):{result:!0}},_getErrMsg:function(e){}});return Validation.xtype="validation",Validation}),define("src/Utils",[],function(){var e=new Class({uuid:function(){return String.uniqueID()},ajax:function(e,t,n,r){jQuery.ajax({url:e,data:t,dataType:"json",cache:!1,success:function(e){n(e)},error:r})}});return e}),define("src/DataSet",[],function(){var e="$status$",t="$notModify$",n="$add$",r="$update$",i="$remove$",s=new Class({Implements:[Events,Options],initialize:function(e){this.setOptions(e)},options:{data:[],_dataMap:{},readUrl:"",syncUrl:"",defaultArg:{},model:{id:"wid",status:e,notModify:t,add:n,update:r,remove:i}},fetch:function(n){var r=this,i={};Page.utils.ajax(this.options.readUrl,i,function(i){r.data=i;for(var s=0;s<r.data.length;s++){var o=r.data[s];o[e]=t,r.options._dataMap[o[r.options.model.id]]=o}n()},null)},sync:function(e){var t=this,n={};Page.utils.ajax(this.options.syncUrl,n,function(t){e()},null)},at:function(e){return this.options.data[e]},readRecord:function(e){return e==undefined?this.options.data:this.options._dataMap[e]},deleteRecord:function(e){},addRecord:function(e){var t=e;this.options.data.push(t)},updateRecord:function(e){}});return s}),define("src/widget/Base",[],function(){var e="base",t="Base",n="./widget/",r=new Class({Implements:[Events,Options],options:{$id:"",vid:"",uuid:"",$xtype:e,$fullName:t,$parentId:null,$appendEl:null,show:!0},initialize:function(e){this.setOptions(e);if(!this.options||this.options.$id=="")this.options.$id=this.options.$xtype+String.uniqueID();this.options.vid==""&&(this.options.vid=this.options.$id),this.options.uuid==""&&(this.options.uuid=String.uniqueID());var t=this;this.vmodel=avalon.define(this.options),this.vmodel.$watch("$all",function(e,n){t.setAttr(e,n)})},getId:function(){return this.vmodel.$id},getAttr:function(e){return this.vmodel[e]},setAttr:function(e,t){var n=this.vmodel[e];this.vmodel[e]=t;var r="_"+e+"Change";return this[r]&&this[r](t,n,this.vmodel.model),this.fireEvent(e+"Change",[t,n,this.vmodel.model]),this},setAttrs:function(e){for(var t in e)this.setAttr(t,e[t])},render:function(){this.fireEvent("beforeRender",[this.vmodel]);var e=this,t=this.getTemplate(),n=new Element("div."+e.getAttr("$xtype"));return n.set("ms-controller",e.getId()),n.appendHTML(t),avalon.scan(n),e.getParentElement().adopt(n),e.element=n,e.fireEvent("afterRender",[this.vmodel]),this},getElement:function(){return this.element},refresh:function(){this.element=null,render()},getParentElement:function(){return this.options.$parentId==null?$$(document.body):$(this.options.$parentId)},show:function(){this.setAttr("show",!0)},hide:function(){this.setAttr("show",!1)},destroy:function(){this.element.destroy()}});return r.xtype=e,r}),define("src/widget/form/BaseFormWidget",["../Base"],function(e){var t="baseFormWidget",n=new Class({Extends:e,options:{$xtype:t,status:"edit",initValue:"",initDisplay:"",value:"",display:"",valueChanged:!1,label:"未设置标题",showLabel:!0,message:"",showMessage:!0,errorMessage:"",showErrorMessage:!1,glyphicon:"",showGlyphicon:!1,required:!1,showRequired:!0,validationRules:{},labelSpan:4,controlPadding:"0"},initialize:function(e){e["display"]==undefined&&(e.display=e.value),e["value"]!=undefined&&(e.initValue=e.value),this.parent(e)},getValue:function(){return this.getAttr("value")},getDisplay:function(){return this.getAttr("display")},setValue:function(e){typeOf(e)=="string"?(this.setAttr("value",e),this.setAttr("display",e),this.setAttr("valueChanged",!0)):typeOf(e)=="object"?(e["value"]!=undefined&&(this.setAttr("value",e.value),e.display?this.setAttr("display",e.display):this.setAttr("display",e.value)),this.setAttr("valueChanged",!0)):window.console.log("set value error,unknown structure ..."+e)},getInitValue:function(){return this.getAttr("initValue")},getInitDisplay:function(){return this.getAttr("initDisplay")},reset:function(){var e=this;this.setValue({value:e.getInitValue(),display:e.getInitDisplay()})},switchStatus:function(e){var t=this;e=="edit"?this.setAttrs({status:e,showErrorMessage:!1,showMessage:!0,showRequired:t.getAttr("required")}):e=="readonly"?this.setAttrs({status:e,showErrorMessage:!1,showMessage:!1,showRequired:!1}):e!="ready2edit"&&window.console.error("unknown status, it should be in edit|readonly|ready2edit")},focus:function(){window.console.error("need to be extended.")},blur:function(){window.console.error("need to be extended.")},validate:function(){window.console.error("need to be extended.")}});return n.xtype=t,n}),define("text",["module"],function(e){"use strict";var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.14",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="﻿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!src/widget/form/input/InputWidget.html",[],function(){return'<table class="form-horizontal-table" ms-visible="show">\n    <tr>\n        <td class="form-label" ms-class="col-md-{{labelSpan}}" ms-if="showLabel">\n            <span class="form-required" ms-visible="required && showRequired">*</span>\n            {{label}}\n        </td>\n        <td class="has-feedback" ms-class="has-error:showErrorMessage&&errorMessage" ms-css-padding="controlPadding">\n            <input class="form-control form-widget-to-focus-class" ms-duplex="value"\n                   ms-attr-readonly="status==\'readonly\'" ms-class="form-text:status==\'readonly\'"/>\n        </td>\n        <td class="form-icon-container">\n            <span ms-class="glyphicon {{glyphicon}}" ms-visible="showGlyphicon"></span>\n        </td>\n    </tr>\n    <tr class="form-horizontal-message">\n        <td ms-if="showLabel"></td>\n        <td class="text-muted" ms-class="form-error-message:showErrorMessage&&errorMessage" colspan="2"\n            ms-css-padding="controlPadding">\n            <span ms-visible="showMessage"> {{message}} </span>\n            <span ms-visible="showErrorMessage">{{errorMessage}}</span>\n        </td>\n    </tr>\n</table>'}),define("normalize",[],function(){function s(e,i,s){if(e.match(r)||e.match(n))return e;e=t(e);var a=s.match(n),f=i.match(n);return f&&(!a||a[1]!=f[1]||a[2]!=f[2])?o(e,i):u(o(e,i),s)}function o(e,t){e.substr(0,2)=="./"&&(e=e.substr(2));if(e.match(r)||e.match(n))return e;var i=t.split("/"),s=e.split("/");i.pop();while(curPart=s.shift())curPart==".."?i.pop():i.push(curPart);return i.join("/")}function u(e,t){var n=t.split("/");n.pop(),t=n.join("/")+"/",i=0;while(t.substr(i,1)==e.substr(i,1))i++;while(t.substr(i,1)!="/")i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");out="";while(n.shift())out+="../";while(curPart=r.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var e=/([^:])\/+/g,t=function(t){return t.replace(e,"$1/")},n=/[^\:\/]*:\/\/([^\/])*/,r=/^(\/|data:)/,a=function(e,n,r){n=t(n),r=t(r);var i=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,o,u,e;while(o=i.exec(e)){u=o[3]||o[2]||o[5]||o[6]||o[4];var a;a=s(u,n,r);var f=o[5]||o[6]?1:0;e=e.substr(0,i.lastIndex-u.length-f-1)+a+e.substr(i.lastIndex-f-1),i.lastIndex=i.lastIndex+(a.length-u.length)}return e};return a.convertURIBase=s,a.absoluteURI=o,a.relativeURI=u,a}),define("css",[],function(){if(typeof window=="undefined")return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var s,o,u=function(){s=document.createElement("style"),e.appendChild(s),o=s.styleSheet||s.sheet},a=0,f=[],l,c=function(e){a++,a==32&&(u(),a=0),o.addImport(e),s.onload=function(){h()}},h=function(){l();var e=f.shift();if(!e){l=null;return}l=e[1],c(e[0])},p=function(e,t){(!o||!o.addImport)&&u();if(o&&o.addImport)l?f.push([e,t]):(c(e),l=t);else{s.textContent='@import "'+e+'";';var n=setInterval(function(){try{s.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},d=function(t,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet";if(r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==i.href)return clearInterval(s),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?p:d)(t.toUrl(e+".css"),r)},i}),define("css!src/widget/form/input/InputWidget",[],function(){}),define("src/widget/form/input/InputWidget",["../BaseFormWidget","text!./InputWidget.html","css!./InputWidget.css"],function(e,t){var n="input",r=new Class({Extends:e,options:{$xtype:n},getTemplate:function(){return t},_valueChange:function(e){this.setAttr("display",e),this.validate()},_getInputElement:function(){var e=this.getElement()[0].getElement("input.form-widget-to-focus-class");return e},focus:function(){var e=this._getInputElement();avalon.nextTick(function(){e.focus()})},blur:function(){var e=this._getInputElement();avalon.nextTick(function(){e.blur()})},validate:function(){var e=Page.create("validation"),t=null;this.getAttr("required")?t=e.checkRequired(this.getValue(),1):this.getAttr("validationRules")&&(t=e.validateValue(this.getValue(),this.getAttr("validationRules"))),t.result?this.setAttr("errorMessage",""):this.setAttr("errorMessage",t.errorMsg)}});return r.xtype=n,r}),define("text!src/widget/form/combobox/ComboboxWidget.html",[],function(){return'<table class="form-horizontal-table" ms-visible="show">\n    <tr>\n        <td class="form-label" ms-class="col-md-{{labelSpan}}" ms-if="showLabel">\n            <span class="form-required" ms-visible="required && showRequired">*</span>\n            {{label}}\n        </td>\n        <td class="has-feedback" ms-class="has-error:showErrorMessage" ms-css-padding="controlPadding">\n            <div ms-attr-id="uuid">\n                <input class="form-control form-widget-to-focus-class" ms-duplex="value"\n                       ms-attr-readonly="status==\'readonly\'" ms-class="form-text:status==\'readonly\'"/>\n                <span class="glyphicon glyphicon-menu-down form-control-feedback" aria-hidden="true"\n                      style="pointer-events:auto; cursor: pointer" ms-on-click="select(vid, this)"></span>\n            </div>\n            <ul class="dropdown-menu" role="menu" style="min-width: 100%" ms-css-display="pullDownDisplay">\n                <li role="presentation" ms-repeat="data">\n                    <a role="menuitem" tabindex="-1" href="javascript:void(0)">\n                        {{el.display}}\n                    </a>\n                </li>\n            </ul>\n        </td>\n        <td class="form-icon-container">\n            <span ms-class="glyphicon {{glyphicon}}" ms-visible="showGlyphicon"></span>\n        </td>\n    </tr>\n    <tr class="form-horizontal-message">\n        <td ms-if="showLabel"></td>\n        <td class="text-muted" ms-class="form-error-message:showErrorMessage" colspan="2"\n            ms-css-padding="controlPadding">\n            <span ms-visible="showMessage"> {{message}} </span> <span\n                ms-visible="showErrorMessage">{{errorMessage}}</span>\n        </td>\n    </tr>\n</table>'}),define("css!src/widget/form/combobox/ComboboxWidget",[],function(){}),define("src/widget/form/combobox/ComboboxWidget",["../BaseFormWidget","text!./ComboboxWidget.html","css!./ComboboxWidget.css"],function(e,t){var n="combobox",r=new Class({Extends:e,options:{$xtype:n,showPulldown:!1,pullDownDisplay:"",data:[{value:"1",display:"333"},{value:"2",display:"2"}],select:function(e,t){var n=avalon.vmodels[e],r=Page.manager.components[e];n.showPulldown=!n.showPulldown,n.pullDownDisplay=n.showPulldown?"block":"none";var i=$(t).parentNode.getStyle("width")}},getTemplate:function(){return t},_valueChange:function(e){this.setAttr("display",e)},_getInputElement:function(){var e=this.getElement()[0].getElement("input.form-widget-to-focus-class");return e},focus:function(){var e=this._getInputElement();avalon.nextTick(function(){e.focus()})},blur:function(){var e=this._getInputElement();avalon.nextTick(function(){e.blur()})}});return r.xtype=n,r}),define("src/widget/layout/BaseLayout",["../Base"],function(e){var t=new Class({Extends:e,initialize:function(){}});return t.xtype="baseLayout",t}),define("text!src/widget/simple/SimpleGridWidget.html",[],function(){return'<div ms-visible="show">\n    <table class="table">\n        <tr>\n            <th style="width: 20px">\n                <input type="checkbox" ms-duplex-checked="allChecked" ms-click="allClick(vid, this)">\n            </th>\n            <th ms-repeat="header">{{el.title}}</th>\n            <th>\n\n            </th>\n        </tr>\n        <tr ms-repeat-a="data">\n            <td>\n                <input type="checkbox" ms-duplex-checked="a[\'checked\']" ms-click="checkMe(a, vid)">\n            </td>\n            <td ms-repeat="header">\n                <div ms-if="header[$index].type==\'ctype\'">\n                    {{a[header[$index].ctitle+"Display"]}}\n                </div>\n                <div ms-if="header[$index].type!=\'ctype\'">\n                    {{a[header[$index].ctitle]}}\n                </div>\n            </td>\n            <td ms-attr-rowIndex="$index">\n                {{opColumn.template|html}}\n            </td>\n        </tr>\n    </table>\n    <nav>\n        <ul class="pagination">\n            <li>\n                <a href="#" aria-label="Previous">\n                    <span aria-hidden="true">&laquo;</span>\n                </a>\n            </li>\n            <li><a href="#">1</a></li>\n            <li><a href="#">2</a></li>\n            <li><a href="#">3</a></li>\n            <li><a href="#">4</a></li>\n            <li><a href="#">5</a></li>\n            <li>\n                <a href="#" aria-label="Next">\n                    <span aria-hidden="true">&raquo;</span>\n                </a>\n            </li>\n        </ul>\n    </nav>\n</div>'}),define("css!src/widget/simple/SimpleGridWidget",[],function(){}),define("src/widget/simple/SimpleGrid",["../Base","text!./SimpleGridWidget.html","css!./SimpleGridWidget.css"],function(e,t){var n="simpleGrid",r=new Class({Extends:e,options:{$xtype:n,header:[],data:[],allChecked:!1,allClick:function(e,t){var n=avalon.vmodels[e];for(var r=0;r<n.data.$model.length;r++)n.data[r].checked=t.checked},checkMe:function(e,t){var n=avalon.vmodels[t],r=!0;for(var i=0;i<n.data.$model.length;i++)if(!n.data[i].checked){r=!1;break}n.allChecked=r},opColumn:{}},initialize:function(e){var t=e.data;for(var n=0;n<t.length;n++)t[n].checked==undefined&&(t[n].checked=!1);this.parent(e),window.console.log("aaaa:"+this.options.opColumn.template)},getTemplate:function(){return t},getSelected:function(){}});return r.xtype=n,r}),define("src/Factory",["./Manager","./Validation","./Utils","./DataSet","./widget/Base","./widget/form/BaseFormWidget","./widget/form/input/InputWidget","./widget/form/combobox/ComboboxWidget","./widget/layout/BaseLayout","./widget/simple/SimpleGrid"],function(){var e=arguments,t=new Class({initialize:function(){this.classMap={},this.manager=new e[0],this.validation=new e[1],this.utils=new e[2]},add:function(e,t){this.classMap[e]=t},getAll:function(){return this.classMap},create:function(e,t){if(this.classMap[e]===undefined)return;var n=new this.classMap[e](t),r=n.getId();return this.manager.add(r,n),n}}),n=new t;return Array.each(e,function(e,t){n.add(e.xtype,e)}),n}),define("src/Bootstrap",["./Factory"],function(e){var t="Page";return window[t]==undefined&&(window[t]=e),e}),require(["./src/Bootstrap"],function(){var e=Page.create("input",{$parentId:"inputContainer",value:"",required:!1,glyphicon:"glyphicon-ok",message:"请输入用户名",label:"用户名",hasError:!1,$id:"username"});e.render(),console.log(e);var t=Page.create("combobox",{$parentId:"comboboxContainer",$id:"sex",label:"性别"});t.render();var n=Page.create("simpleGrid",{$id:"grid",$parentId:"simpleGrid",header:[{title:"职工号",ctitle:"zgh"},{title:"起始年月",ctitle:"qsny"},{title:"性别",ctitle:"xb",type:"ctype"}],opColumn:{template:'<button ms-click="opColumn.deleteRow(a)">delete</button>',deleteRow:function(e){window.console.log(e)}},data:[{zgh:"123",qsny:"1923-11",xb:"1",xbDisplay:"男"},{zgh:"345",qsny:"1923-12"}]});n.render()}),define("demo",function(){}),function(e){var t=document,n="appendChild",r="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=e:i[n](t.createTextNode(e))}("#test {\n\n}\n");